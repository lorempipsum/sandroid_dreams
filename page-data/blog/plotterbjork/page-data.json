{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/plotterbjork","result":{"data":{"markdownRemark":{"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/21416810116d87f8ede5bf3e0dcaffa1/9d1f3/plotterbjork.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIEAQP/xAAWAQEBAQAAAAAAAAAAAAAAAAADAAH/2gAMAwEAAhADEAAAAaGTtlhKCv8A/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIDERIAE//aAAgBAQABBQJY0qgGJyUlTPqnPOuv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAEh/9oACAEDAQE/AdR//8QAFxEBAAMAAAAAAAAAAAAAAAAAAAEhMf/aAAgBAgEBPwGk6//EABoQAAICAwAAAAAAAAAAAAAAAAABESECEDH/2gAIAQEABj8CVELFRpWdKZ//xAAcEAACAgIDAAAAAAAAAAAAAAAAAREhQVFxkfD/2gAIAQEAAT8hnWouqATKSojGqwzxTJa1cH//2gAMAwEAAgADAAAAEM8v/8QAGBEBAQADAAAAAAAAAAAAAAAAAQARITH/2gAIAQMBAT8QcuMNF//EABcRAQEBAQAAAAAAAAAAAAAAAAEAETH/2gAIAQIBAT8QAdIusL//xAAdEAEAAwACAwEAAAAAAAAAAAABABEhMVFBYXHw/9oACAEBAAE/EFMKoVt6+wgUkLjncUmcYR6tlx6vkr1z+vEXmFF36n//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Plotting result\"\n        title=\"Plotting result\"\n        src=\"/static/21416810116d87f8ede5bf3e0dcaffa1/4b190/plotterbjork.jpg\"\n        srcset=\"/static/21416810116d87f8ede5bf3e0dcaffa1/e07e9/plotterbjork.jpg 200w,\n/static/21416810116d87f8ede5bf3e0dcaffa1/066f9/plotterbjork.jpg 400w,\n/static/21416810116d87f8ede5bf3e0dcaffa1/4b190/plotterbjork.jpg 800w,\n/static/21416810116d87f8ede5bf3e0dcaffa1/e5166/plotterbjork.jpg 1200w,\n/static/21416810116d87f8ede5bf3e0dcaffa1/b17f8/plotterbjork.jpg 1600w,\n/static/21416810116d87f8ede5bf3e0dcaffa1/9d1f3/plotterbjork.jpg 3893w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d67e3ca9582f4abe30763fac59850d6f/b17f8/bjork.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABQAB/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABOVIQMqP/xAAbEAABBAMAAAAAAAAAAAAAAAACAAEDIxAREv/aAAgBAQABBQLm6V8DJshsNf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAICAwAAAAAAAAAAAAAAAAExABARIUL/2gAIAQEABj8CfUCVZIBhK0q//8QAGxABAAICAwAAAAAAAAAAAAAAAQAREDEhQZH/2gAIAQEAAT8hOZQBsyy/hLibkXVTu4BteP/aAAwDAQACAAMAAAAQ08//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAwADAQAAAAAAAAAAAAABABEhMUFRgf/aAAgBAQABPxBktKxy1z5CYg8Gk3uXnF7LMYORAlsAopJRP//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Input file\"\n        title=\"Input file\"\n        src=\"/static/d67e3ca9582f4abe30763fac59850d6f/4b190/bjork.jpg\"\n        srcset=\"/static/d67e3ca9582f4abe30763fac59850d6f/e07e9/bjork.jpg 200w,\n/static/d67e3ca9582f4abe30763fac59850d6f/066f9/bjork.jpg 400w,\n/static/d67e3ca9582f4abe30763fac59850d6f/4b190/bjork.jpg 800w,\n/static/d67e3ca9582f4abe30763fac59850d6f/e5166/bjork.jpg 1200w,\n/static/d67e3ca9582f4abe30763fac59850d6f/b17f8/bjork.jpg 1600w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>One of the more basic things you can do with a plotter is pointillism. That's the technique of creating an image out of tiny dots - the same mechanism screens use to display images, the dots being different coloured pixels. By varying the distance between the dots according to the brightness of the underlying image, you can get a low resolution interpretation of it.</p>\n<p>It sounds like a fun thing to try, but in the end I was left a little disappointed by my results. The main problem I had with is that the output just looks like the output from a poor inkjet printer, and doesn't have much of the characteristics of using a plotter in it. Sure, if you look closely you can see the variations in the dots (caused by the pen being at an angle or due to variations in the ink flow), but each dot is small and specific enough that it's a little boring.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/753960ef7378ceb89c2b680880494853/86d28/plotterbjork_closeup.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAIBAwQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAehmsRJGKn//xAAaEAACAgMAAAAAAAAAAAAAAAAAAQIQESFB/9oACAEBAAEFAmx5dde5yP/EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/AWf/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPwEn/8QAFhABAQEAAAAAAAAAAAAAAAAAARAg/9oACAEBAAY/AsBP/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAExIRFx/9oACAEBAAE/IecXR9GodeCo1EWlLw//2gAMAwEAAgADAAAAEGff/8QAFREBAQAAAAAAAAAAAAAAAAAAAAH/2gAIAQMBAT8QhX//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QWQ3/xAAaEAEBAQADAQAAAAAAAAAAAAABEQAhMUFR/9oACAEBAAE/EHKWaIQOGiULS5vK6CHsPunq8e7/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Close up of the result\"\n        title=\"Close up of the result\"\n        src=\"/static/753960ef7378ceb89c2b680880494853/4b190/plotterbjork_closeup.jpg\"\n        srcset=\"/static/753960ef7378ceb89c2b680880494853/e07e9/plotterbjork_closeup.jpg 200w,\n/static/753960ef7378ceb89c2b680880494853/066f9/plotterbjork_closeup.jpg 400w,\n/static/753960ef7378ceb89c2b680880494853/4b190/plotterbjork_closeup.jpg 800w,\n/static/753960ef7378ceb89c2b680880494853/e5166/plotterbjork_closeup.jpg 1200w,\n/static/753960ef7378ceb89c2b680880494853/b17f8/plotterbjork_closeup.jpg 1600w,\n/static/753960ef7378ceb89c2b680880494853/86d28/plotterbjork_closeup.jpg 2896w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Here's how I went about it:</p>\n<ol>\n<li>\n<p>Load up an image, and starting at the top left, get the brightness information for a pixel at (x, y).</p>\n<pre><code>img = loadImage(\"Bjork_EB.jpg\");\nint imageW = img.width;\nint imageH = img.height;\ny = (iteration + 1) + int(random(1, 4));\nx = x + step * int(random(1, 3));\ncolor pix = img.get(x, y);\nfloat brightness = brightness(pix);\n</code></pre>\n</li>\n<li>\n<p>If the brightness is less than a cutoff value, either:</p>\n<p>a. If it's a very dark pixel, just draw the point, and choose a small step size for the next x coordinate.</p>\n<pre><code>if (brightness &#x3C; 50) {\n  step = round(random(2, 3));\n  drawPoint(x, y, delay);\n}\n</code></pre>\n<p>b. If the pixel is near the middle of the image (bjork's face), draw the less dark pixels around 50% of the time to get some lighter shadows. Choose a \"medium\" step value for increasing x.</p>\n<pre><code>else if (x &#x3C; 0.6*imageW &#x26;&#x26; x > 0.3*imageH) {\n  if (random(0, 1) > 0.5) {\n    fill(0, 0, 200, 90);\n      drawPoint(x, y, delay);\n  }\n  step = round(random(3, 6));\n}\n</code></pre>\n<p>c. If the pixels are not in the middle, draw the pixel only 5% of the time, and choose a large step value, so we can skip over empty parts.</p>\n<pre><code> else {\n  step = int(random(5, 15));\n  if (random(0, 1) > 0.95) {\n    fill(0, 0, 200, 90);\n    drawPoint(x, y, delay);\n  }\n }\n</code></pre>\n<br/>\n</li>\n<li>Choose a new point on the x-axis depending on the <em>step</em> value, and repeat until the end of the row, and start again from a new y. Repeat until the whole picture is done.</li>\n</ol>\n<p>I was hoping that by using somewhat convoluted rules, some characteristics of them would remain visible in the final plot. As in, you would almost be able to almost deduce the rules by looking at the image, or your brain subconsciously could. I don't think it really worked, as the final image looks nice, but pretty ordinary.</p>\n<p>I was surprised how easy it is to work with images in Processing though. I had avoided it until this, but it's not that bad!</p>\n<p>Full code:</p>\n<pre><code>\nPImage img;\n\nimport processing.serial.*;\n\nSerial myPort;    // Create object from Serial class\nPlotter plotter;  // Create a plotter object\nint val;          // Data received from the serial port\nint lf = 10;      // ASCII linefeed\n\n//Enable plotting?\nboolean PLOTTING_ENABLED = true;\nboolean draw_box = false;\nboolean draw_label = true;\nboolean up = true;\n\nboolean just_draw = true;\n\n\n//Label\nString dateTime = day() + \"/\" + month() + \"/\" + year() + hour() + \":\" + minute() + \":\" + second() + \" - \";\nString label = dateTime + \"POINTILLISATION OF BUTTERBJORK\";\n\n//Plotter dimensions\nint xMin = 600;\nint yMin = 800;\nint xMax = 10300 - 300;\nint yMax = 8400 - 600;\nint A4_MAX_WIDTH = 10887;\nint A4_MAX_HEIGHT = 8467;\nint VERTICAL_CENTER = (xMax + xMin) /2;\nint HORIZONTAL_CENTER = (yMax + yMin) /2;\nint loops = 0;\n\nint i = 0;\nint lastY = yMin;\nint cuttage = 355;\n\nint x = 0;\nint y = 0;\n  int step = 5;\n  int iteration = 6;\n\nint xguide = x;\nint yguide = y;\n\nint mass = 50;\n\nvoid setup() {\n  size(840, 1080);\n  smooth();\n\n\n  img = loadImage(\"Bjork_EB.jpg\");\n  //image(originalImage, 0, 0);\n  //img =  get(300, 0, 900, 700);\n  imageMode(CENTER);\n  stroke(0, 0, 200, 90);\n  background(255);\n  frameRate(999999);\n      fill(0, 0, 200, 90);\n\n\n\n  if (just_draw) {\n    draw_box = false;\n    draw_label = false;\n    PLOTTING_ENABLED = true;\n  }\n\n  //Select a serial port\n  println(Serial.list()); //Print all serial ports to the console\n  String portName = Serial.list()[1]; //make sure you pick the right one\n  println(\"Plotting to port: \" + portName);\n\n  //Open the port\n  myPort = new Serial(this, portName, 9600);\n  myPort.bufferUntil(lf);\n\n  //Associate with a plotter object\n  plotter = new Plotter(myPort);\n\n  //Initialize plotter\n  if (PLOTTING_ENABLED) {\n  plotter.write(\"IN;\"); // add Select Pen (SP1) command here when the pen change mechanism is fixed\n\n  //Draw a label first (this is pretty cool to watch)\n\n  if (draw_label) {\n  int labelX = xMax + 300;\n  int labelY = yMin;\n  plotter.write(\"PU\"+labelX+\",\"+labelY+\";\"); //Position pen\n  plotter.write(\"SI0.14,0.14;DI0,1;LB\" + label + char(3)); //Draw label\n  fill(50);\n  float textX = map(labelX, 0, A4_MAX_HEIGHT, 0, width);\n  float textY = map(labelY, 0, A4_MAX_WIDTH, 0, height);\n\n  text(dateTime + label, textY, textX);\n  //Wait 0.5 second per character while printing label\n  println(\"drawing label\");\n  delay(label.length() * 500);\n  println(\"label done\");\n  }\n    plotter.write(\"PU\"+0+\",\"+0+\";\", 3000); //Position pen\n\n  }\n\n}\n\nvoid draw() {\n  int delay = 150;\n  int imageW = img.width;\n  int imageH = img.height;\n  y = (iteration+1)+int(random(1,4));\n  x = x + step*int(random(1,3));\n  color pix = img.get(x, y);\n  float brightness = brightness(pix);\n  if (brightness &#x3C; 175) {\n    if (brightness &#x3C; 50) {\n      step = round(random(2, 3));\n        drawPoint(x, y, delay);\n    } else if (x&#x3C; 0.6*imageW &#x26;&#x26; x> 0.3*imageH) {\n      if (random(0,1) > 0.5) {\n      fill(0, 0, 200, 90);\n        drawPoint(x, y, delay);\n      }\n      step = round(random(3, 6));\n    } else {\n      step = int(random(5, 15));\n      if (random(0,1) > 0.95) {\n              fill(0, 0, 200, 90);\n              drawPoint(x, y, delay);\n\n      }\n    }\n\n\n  }\n\n  if (x > imageW - cuttage) {\n    x = 0;\n    iteration = iteration + 1;\n    int _x = int(map(x, 0, 1600 - cuttage, xMin, xMax));\n    int _y = int(map(y, 0, 1000, yMin, yMax));\n    plotter.write(\"PU\"+_x+\",\"+_y+\";\"); //Position pen\n    delay(5000);\n  }\n      if (y > imageH) {\n            x = 0;\n\n    plotter.write(\"PU\"+xMin+\",\"+yMin+\";\"); //Position pen\n    delay(5000);\n    iteration = 0;\n    loops = 1;\n    println(\"LARGER THENA Y\");\n    fill(0, 200, 0, 90);\n  }\n}\n\nvoid drawLine(float x1, float y1, float x2, float y2, boolean up) {\n  float _x1 = map(x1, 0, A4_MAX_HEIGHT, 0, width);\n  float _y1 = map(y1, 0, A4_MAX_WIDTH, 0, height);\n\n  float _x2 = map(x2, 0, A4_MAX_HEIGHT, 0, width);\n  float _y2 = map(y2, 0, A4_MAX_WIDTH, 0, height);\n  line(_y1, _x1, _y2, _x2);\n\n  String pen = \"PD\";\n  if (up) {\n    pen=\"PU\";\n  }\n\n\n  if (PLOTTING_ENABLED) {\n\n    plotter.write(pen+x1+\",\"+y1+\";\");\n    plotter.write(\"PD\"+x2+\",\"+y2+\";\"); //75 ms delay\n\n    delay(200);\n  }\n}\n\nvoid drawPoint(int x, int y, int delayT) {\n  if (loops &#x3C; 1) {\n\n\n  x = int(map(x, 0, 1600 - cuttage, xMin, xMax));\n  y = int(map(y, 0, 1000, yMin, yMax));\n\n  float _x = map(x, 0, A4_MAX_HEIGHT, 0, width);\n  float _y = map(y, 0, A4_MAX_WIDTH, 0, height);\n\n\n  point(_y, _x);\n  ellipse(_y, _x, 1.5, 1.5);\n  if (PLOTTING_ENABLED) {\n    plotter.write(\"PU\"+x+\",\"+y+\";\"); //Position pen\n    plotter.write(\"PD\"+x+\",\"+y+\";\"); //Position pen\n\n    delay(delayT);\n  }\n  }\n}\n\n\n/*************************\n Simple plotter class\n *************************/\n\nclass Plotter {\n  Serial port;\n\n  Plotter(Serial _port) {\n    port = _port;\n  }\n\n  void write(String hpgl) {\n    if (PLOTTING_ENABLED) {\n      port.write(hpgl);\n    }\n  }\n\n  void write(String hpgl, int del) {\n    if (PLOTTING_ENABLED) {\n      port.write(hpgl);\n      delay(del);\n    }\n  }\n}\n</code></pre>","frontmatter":{"date":"December 24, 2020","slug":"/blog/plotterbjork","title":"Plotterbjork"}}},"pageContext":{"slug":"/blog/plotterbjork"}},"staticQueryHashes":[]}